# 리눅스 수행 정리!
리눅스의 역사, GNU 프로젝트는 안나옴 :)
### 리눅스의 역사..

-   켄 톰슨 : 초기 UNIX 개발
-   데니스 리치 : C언어 개발
-   리처드 스톨먼 : GNU 프로젝트 개발
-   FSF(자유 소프트웨어 재단) 설립
-   앤드류 타넨바움 : MINIX - 교육용 유닉스 개발
-   리눅스 토르발즈 : MINIX를 고쳐서 GNU에 사용하려 했는데 때려치고 새 커널 개발함 → 이것이 리눅

### GNU 프로젝트

"모듀가 공유할 수 있는 소프트웨어"를 목적으로 1984년에 리처드 스톨먼에 의해 시작됨. 이후 1985년에 "자유소프트웨어재단"(Free Software Foundation)을 설립하여 GNU프로젝트에서 제작한 소프트웨어를 지원하고, 프로그램의 복제, 소스코드 사용의 제한을 없앴다.

자유 소프트웨어는 비용적 댓가가 없다는 개념을 넘어, 적극적 자유(Freedom)을 보장하는 개념.

GPL은 자유 소프트웨어의 수정과 공유의 자유를 보장하는 라이선스. GNU 프로젝트의 모든 프로그램은 GPL 라이선스를 따른다

### 경로탐색

-   절대경로 : 루트 디렉터리(`/`)를 기준으로 경로를 나타낸다. 현재 쉘의 위치와 관계 없이 항상 같은 위치를 나타낸다. → `/etc` : 루트디렉터리 하위의 `etc` 디렉터리
-   상대경로 : 자신이 위치한 디렉터리를 기준으로 경로를 나타낸다. 현재 쉘의 디렉터리를 `.`으로, 상위디렉터리를 `..` 으로 표시한다. → `./etc` : 현재 디렉터리 하위의 `etc` 디렉터리.

### 다양한 재시작 방법들

`reboot` : 오직 재시작만을 위해서 탄생한 명령

`shutdown -r now` : shutdown명령의 옵션 조합을 통해 지금 즉시 재시작하도록 명령

`init 6` : run level을 6번(재부팅)으로 설정하여 재부팅하도록 명령

### 사용자, 그룹 관리

사용자와 그룹 정보는 `/etc/passwd`에 저장됩니다.

저장형식→

```
사용자이름:비밀번호:사용자ID:그롭ID:추가적인 정보(전화번호 회사위치 등등...):홈 디렉터리:기본 쉘 위치

```

← 비밀번호는 `/etc/shadow` 파일에 암호화되어 저장됨

**명령어**

-   `users` : 현재 로그인중인 사용자 출력
    
-   `who` : 현재 접속중인 사용자의 계정명, 터미널 위치, 접속시간, 접속 정보를 출력
    
-   `w` : 현재 접속중인 사용자의
    
-   `adduser` : 새로운 사용자를 추가
    
-   `passwd` : 사용자의 비밀번호를 지정/변경
    
-   `userdel` : 사용자 삭제
    
    -   `-r` : 사용자가 생성한
-   `usermod` : 사용자 속성 변경
    
    -   `-l` : 이름
    -   `-g` : 그룹
    -   `-u` : UID(User ID) 설정
-   `chage` : 사용자 암호를 주기적으로 변경하도록 안내 설정
    
    -   `-m <n>` : n달에 한번 변경하라고 안내
-   `w` : 현재 접속중인 사용자들의 정보를 나타냄
    
-   `groups` : 현재 사용자가 속해있는 그룹들을 출력합니다
    
-   `groupadd` : 새로운 그룹을 생성합니다
    
    -   `-g` : GID(Group ID)를 지정합니다
-   `groupmod` : 그룹 속성을 변경합니다
    
    -   `-g` : GID
        -   `-o` : GID 중복 에러를 무시합니다
    -   `-n` : 그룹의 이름
-   `groupdel` : 그룹을 삭제
    
-   `gpasswd` : 그룹의 암호 설정과 관리
    
    -   아무 옵션도 없으면 암호 설정이지만, 아래의 속성들이 붙으면 그룹 관리
    -   `-a` : 사용자를 그룹에 등록
    -   `-d` : 사용자를 그룹에서 삭제
    -   `-r` : 그룹 암호를 삭제

### vi

-   i : 입력
    
-   I : 현재줄 맨 앞부터 입력
    
-   a : 다음칸ㄴ부터 입력
    
-   A : 현재줄 맨 뒤부터 입력
    
-   x : 현재 커서가 위치한 글자 삭제
    
-   X : 현재 커서가 위치한 앞 글자 삭제
    
-   dd : 현재 커서가 위치한 행 삭제
    
-   `n`dd : 현재 커서부터 `n`개의 행 삭제
    
-   yy : 현재 커서가 있는 행을 복사
    
-   `n`yy : 현재 커서부터 `n`개의 행 복사
    
-   p : 현재행 이후에 클립보드 붙혀넣기
    
-   P : 현재행 이전에 클립보드 붙혀넣기
    

### 기타

**가상콘솔** : == tty. `Ctrl Alt F번호키`로 접속이 가능하다. tty7번은 xWindow

**파이프** `|` : 두개의 명령을 병렬로 처리, 앞 명령의 출력을 뒷 명령의 입력으로 사용.

**리디렉션** : 콘솔 출력을 파일에 쓰기. `>` : 덮어쓰기, `>>` : 이어쓰기

### 파일/디렉터리 소유권

RWXRWXRWX 읽는법? 세자리씩 끊어서 소유자 - 소유그룹 - 그 외에 대한 권한이다. 위 소유자는 RWX, 소유그룹은 RWX, 그 외 사용자는 RWX이다. ← 이는 각각 비트로 생각하면 111 111 111이고, 8진수로 변환하여 `777` 이라고 표기할 수 있다.

`RWXR—R—` → 소유자는 읽기쓰기실행 가능, 소유그룹은 읽기 가능, 그 외 사용자는 일기 가능이다. `744`로 표현할 수 있다.

R은 읽기(Read), W는 쓰기(Write), X는 실행(Execute)

**chmod** : 소유권 변경

-   `g+x` : 소유그룹에 실행권한 추가
-   `g=r` : 소유그룹 권한을 `읽기`만 지정
-   `755` : 권한을 755 → 111 101 101 → RWXR-XR-X로 설정

**chown** : 소유권 지정. root만 실행할 수 있다.

-   `chown username filename` : `filename` 파일의 소유자를 `username`으로 변경
-   `chown username.group filename` : `filename` 파일의 소유자를 `username` 으로, 소유 그룹을 `group`으로 지정한다.
    -   점 `.` 의 앞 뒤를 생략할 수 있다.
    -   소유자와 소유그룹 사이 점 `.` 은 콜론 `:` 으로 치환할 수 있다 → `chown username:group filename`

**chgrp** : 소유 그룹 지정.

-   `chgrp group filename` : `filename` 파일의 소유 그룹을 `group`로 지정한다.

**umask** : 새로 생성되는 파일이나 디렉터리에서 금지할 권한 설정. 파일은 666에서, 디렉터리는 777에서 umask값을 빼고 권한이 부여된다.

-   umask가 022라면? 파일은 644로, 디렉터리는 755로 생성됨

**특수권한**

-   setUID : 코드 `s`, 숫자 4로 표현. 프로세스를 실행할 때 소유자의 권한을 위임받아 실행한다.
-   setGID : 코드 `s`, 숫자 2로 표현. 웅앵 그룹 권한 위임
-   Sticky Bit : 코드 `t`, 숫자 1로 표현. 디렉터리를 공용으로 사용할 때 설정한다. 스티키빗 디렉터리에는 누구나 파일을 생성할 수 있지만, 삭제와 변경은 해당 파일 소유자와 루트만 할 수 있다. `/tmp` 폴더가 스티키빗 디렉터리이다.
-   chmod의 3자리 숫자 앞에 특수권한 수를 붙힘으로써 설정 가능
    -   → 4744 : 접근 권한은 744로 설정. 일반 유저가 실행시에도 프로세스가 root의 권한을 위임받아서, root만이 할 수 있는 일을 해낼 수 있다!

### 디스크 쿼터

(코타?)

1.  quotacheck : 없다면 쿼터파일을 만들고, 파일 시스템을 체크해서 쿼터를 기록합니다
2.  edquota : 사용자나 그룹에 대해 쿼터를 설정합니다
3.  quotaon : 쿼터 제도를 시작합니다
4.  repquota : 쿼터를 시행중인 모든 파티션을 출력합니다

### 파일 시스템 구조

**inode(아이노드)** : 파일 정보 / 포인터 / 메타데이터(ID, 크기, 위치, 소유자)를 저장

**파일 시스템 종류**

1.  e

### 히스토리

-   상하 화살표로 이동 가능
-   `history` 명령어로 확인 가능

## 명령어

### shutdown

시스템 종료 관련 명령

기본형 : `shutdown 종료시각` → `shutdown 11:00`

**옵션**

`-r` : 재시작

`-P +m` : m분 후에 종료 타이머 설정

`-c` : 예약된 타이머를 취소

`-k +m` : 현재 접속중인 모든 사용자에게 m분 이후 종료된다고 알리지만 실제 종료되지는 않음(폰종료)

`-f` : 재부팅할 때에 fsck(파일시스템 오류 검사)를 실행하지 않음

**기타**

종료시각을 `now`로 입력하면 지금 즉시 실행됨!

### init

현재 시스템의 Run level(시스템 가동 상태)을 지정하는 명령

**Run Level**

0.  Power Off : 시스템 종료
    
1.  Rescue
    
2.  Multi User : 네트워킹 없는 다중 사용자 쉘 모드(사용하지 않음)
    
3.  Multi User : 다중 사용자 쉘 모드
    
4.  (사용하지 않음)
    
5.  Graphical : 그래픽 모드의 다중 사용자 모드
    
6.  reboot : 시스템 재부팅
    

### ls

디렉터리에 포함된 파일 목록 출력

기본형 : ls `디렉터리 위치(기본값 .)`

**옵션**

-   `-l` : 리스트로 줄마다 하위요소 하나씩 출력
-   `-a` : 숨겨진 파일도 출력
-   `-h` : 사람이 읽기 쉽게 파일 용량 표시(B, KB, MB GB...

### cp

파일/디렉터리를 복사

기본형 : cp `복사할파일` `복사위치`

**옵션**

-   `-a` : 속성도 복사
-   `-r` : 덮어쓰기

### rm

파일/디렉터리를 삭제

기본형 : rm `대상`

**옵션**

-   `-f` : 강제집행
-   `-r` : 하위 디렉터리까지 재귀적으로 삭제

### mkfs / mke2fs

파일시스템을 생성

기본형 : mkfs -t `파일시스템 종류` `경로`  
ex: `mkfs -t ext3 /dev/sdb1`

-   -t 파일시스템 : ext2,ext3 등 지정
-   -c : 베드블록 검사
-   -j : 파티션을 ext3으로 생성

### 기타

**쉘**

-   `history` : 쉘 히스토리를 출력
-   `pwd` : 현재 디렉터리 출력
-   `cd` : 쉘 디렉터리 이동, 매개변수 없을시 홈디렉터리로 이동.
-   `clear` : 명령창을 깨끗하게 비워줌

**파일입출력**

-   `mkdir` : 디렉터리 생성
    -   → `mkdir temp` : 현재 디렉터리 하위에 `temp` 디렉터리를 만든다
    -   → `mkdir /temp` : 루트 디렉터리 하위에 `temp` 디렉터리를 만든다
-   `mv` : 파일/디렉터리 위치 이동. ← mv `원본위치` `이동위치`
-   `rmdir` : 디렉터리를 삭제. ← `-p` : 부모 디렉터리 삭제
-   `cat 대상` : 파일 내용을 콘솔에 출력
-   `cat > 대상` : 콘솔 입력으로 파일에 쓰기
-   `head` : 파일의 첫 10줄 출력
-   `tail` : 파일의 아래 10줄 출력
-   `more` : 파일을 화면에 줄단위로 출력, 페이지별 넘김 가능
-   `less` : 발달한 more
-   `file` : 파일의 종류를 표시

### 파일시스템

-   `fsck` : 파일 시스템의 무결성 점검 (오류점검) /lost+found 디렉터리에서 사용
-   `eject` : DVD/CD-ROM 제거
-   `fdisk` : 새 파티션 생성 / 삭제

### 파이프

-   `grep` : 파이프 입력에서 문자열을 검색하여서 필터링
-   `sort` : 파이프 입력을 정렬하여 출력
    -   `-r` : 역순정렬
<!--stackedit_data:
eyJoaXN0b3J5IjpbMjA2NTkzMTQxOF19
-->